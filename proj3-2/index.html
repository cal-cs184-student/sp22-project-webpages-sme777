<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>  
    div.padded {  
      padding-top: 0px;  
      padding-right: 100px;  
      padding-bottom: 0.25in;  
      padding-left: 100px;  
    }  
  </style> 
<title>Samson Petrosyan  |  CS 184</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>
<body>
<br />
<h1 align="middle">Assignment 3-2: PathTracer</h1>
    <h2 align="middle">Samson Petrosyan</h2>

    <div class="padded">
        <p>
            In this assignment, I chose to implement microfacet material (part 2) and environment lighting (part 3). Overall, I thought this project was very straightforward and a direct application of the theory we learned in class and practiced in discussion sections.
        </p>
    
	<h2 align="middle">Part 2: Microfacet Material</h2>

	<p>
		Implementation of microfacet materials was the most fun, as it solely involved writing equations covered in class or on the website. No major bugs were encountered in this section. Below are the renders of the dragon with the gold surface with different alpha values.
   </p>
	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part2_1.png" width="400px" />
				<figcaption align="middle">alpha = 0.005, s=512, l=1, m=5</figcaption>
				</td>
				<td align="middle">
					<img src="images/part2_2.png" width="400px" />
					<figcaption align="middle">alpha = 0.05, s=512, l=1, m=5.</figcaption>
				</td>
			</tr>
			<tr>
				<td align="middle">
				<img src="images/part2_3.png" width="400px" />
				<figcaption align="middle">alpha = 0.25, s=512, l=1, m=5</figcaption>
				</td>
				<td align="middle">
					<img src="images/part2_4.png" width="400px" />
					<figcaption align="middle">alpha = 0.5, s=512, l=1, m=5</figcaption>
					</td>
			</tr>
		</table>
	</div>
	<p>
		alpha represents the roughness of the surface, thus a scene with higher alpha will look more diffuse while a scene with lower alpha will look more glossy. As the images above show, increasing the value of alpha results in a less reflective and more matte surface, and this is exactly what we expect when toggling the value of alpha.
</p>

	<p>
		Below are the images of the Bunny rendered with cosine hemisphere sampling and importance sampling.
	</p>
	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part2_bunny_2.png" width="400px" />
				<figcaption align="middle">Cosine hemisphere sampling (s=64, l=1, m=5)</figcaption>
				</td>
				<td align="middle">
					<img src="images/part2_bunny_1.png" width="400px" />
					<figcaption align="middle">Importance Sampling (s=64, l=1, m=5)</figcaption>
				</td>
			</tr>
		</table>
	</div>
<p>
	One point we can clearly state from the comparison of the images above is that the one with importance sampling seems to be less noisy. Although both are rendered with 64 samples per pixel,  importance sampling converges faster. This is due to the nature of the chosen distributions. The Beckmann distribution results in a faster convergence rate compared to its counterpart used for cosine hemisphere sampling.
</p>

<p>
	For the final render, I chose the Beryllium (Be) chemical element as the surface material. The values of eta and k from the 
    provided website were [4.0866 13.94 61.411] and [28.406 61.283 129.89] accordingly.
</p>
	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part2_bunny_3.png" width="400px" />
				<figcaption align="middle">Beryllium (Be) Render of Bunny</figcaption>
				</td>
			</tr>
		</table>
	</div>

    <h2 align="middle">Part 3: Environment Light</h2>
	<p>
		To render a realistic-looking view, it is essential to simulate environment lighting. In environment lighting, the light is emitted from the environment rather than a singular light source, which has been the case in the former part of this project.
</p>

	<p>
		File formats (like <i>exr</i>) that represent high dynamic range environment maps allow storing data associated with enviornment lighting. Below are
		the density of the <i>ennis.exr</i> file generated by <i>save_probability_debug()</i>, and a 360-degree representation of the file in <i>jpg</i> format.
	</p>

	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part3_1_debug.png" width="800px" />
				<figcaption align="middle">Density of <i>ennis.exr</i></figcaption>
				</td>
			</tr>
			<tr>
				<td align="middle">
				<img src="images/ennis.jpg" width="800px" />
				<figcaption align="middle">360 view of <i>ennis.exr</i></figcaption>
				</td>
			</tr>
		</table>
	</div>
	<p>
		Below are the renders of the <i>bunny_unlit.dae</i> scene along with <i>ennis.exr</i>.
	</p>
	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part3_2.png" width="400px" />
				<figcaption align="middle">Uniform sampling (s=4, l=64)</figcaption>
				</td>
				<td align="middle">
					<img src="images/part3_1.png" width="400px" />
					<figcaption align="middle">Importance sampling (s=4, l=64)</figcaption>
				</td>
			</tr>
		</table>
	</div>
	<p>

		We can clearly tell from the images above that the render of Bunny with uniform sampling is noisier than the one with importance sampling. The surface in the left image is not as smooth, and there are many small black dots that are absent in the right image. Since we use 4 samples per pixel and 64 samples per light in each of the images, we infer that the importance sampling converges faster than uniform sampling. In other words, to get the quality of the right images, we would need to take higher samples per pixel/light for the uniform sampling image.
			
</p>
	<div align="center" >
		<table style="width: 100%;">
			<tr>
				<td align="middle">
				<img src="images/part3_4.png" width="400px" />
				<figcaption align="middle">Uniform sampling (s=4, l=64)</figcaption>
				</td>
				<td align="middle">
					<img src="images/part3_3.png" width="400px" />
					<figcaption align="middle">Importance sampling (s=4, l=64)</figcaption>
				</td>
			</tr>
		</table>
	</div>

    <p>
		We again see the presence of black dots in the uniform sampled image. In addition, the edges of the copper Bunny with uniform sampling are not as smooth and defined as the edges of the Bunny with importance sampling. Not surprisingly, the Bunny on the right image is also a bit more reflective than the Bunny on the left image. By inspecting the previous two images, we can see that the convergence to the true value is indeed confirmed by the surface material (in this case copper). Overall, the noise levels are still much higher in the uniformly sampled image.
	</p>

<p align="middle">
    <strong>Webpage:</strong> https://cal-cs184-student.github.io/sp22-project-webpages-sme777/proj3-2/index.html
</p>

</body>
</html>




